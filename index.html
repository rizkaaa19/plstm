<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç PLSTM Land Subsidence Detection System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="main-header">
            <div class="header-content">
                <div class="header-text">
                    <h1><i class="fas fa-globe-americas"></i> PLSTM Land Subsidence Detection</h1>
                    <p>Advanced Parallel Long Short-Term Memory for Land Subsidence Prediction in Padang City</p>
                </div>
                <div class="header-stats">
                    <div class="stat-card">
                        <i class="fas fa-database"></i>
                        <div class="stat-info">
                            <span class="stat-label">RINEX Data</span>
                            <span class="stat-value">Processing</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-brain"></i>
                        <div class="stat-info">
                            <span class="stat-label">PLSTM Model</span>
                            <span class="stat-value">Architecture</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-chart-line"></i>
                        <div class="stat-info">
                            <span class="stat-label">Real-time</span>
                            <span class="stat-value">Prediction</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="navigation">
            <div class="nav-container">
                <button class="nav-btn active" data-page="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-btn" data-page="data-training">
                    <i class="fas fa-cogs"></i>
                    <span>Data & Training</span>
                </button>
                <button class="nav-btn" data-page="prediction">
                    <i class="fas fa-chart-line"></i>
                    <span>Prediction</span>
                </button>
                <button class="nav-btn" data-page="analysis">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analysis</span>
                </button>
                <button class="nav-btn" data-page="map">
                    <i class="fas fa-map"></i>
                    <span>Risk Map</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Page -->
            <div id="home" class="page active">
                <div class="hero-section">
                    <div class="hero-content">
                        <h2>Advanced Land Subsidence Prediction</h2>
                        <p>Utilizing Parallel Long Short-Term Memory (PLSTM) architecture with high-precision RINEX data for accurate land subsidence prediction in Padang City.</p>
                        <div class="hero-actions">
                            <button class="btn-primary" onclick="navigateToPage('data-training')">
                                <i class="fas fa-rocket"></i>
                                Start Training
                            </button>
                            <button class="btn-secondary" onclick="navigateToPage('prediction')">
                                <i class="fas fa-search"></i>
                                Make Prediction
                            </button>
                        </div>
                    </div>
                    <div class="hero-visual">
                        <div class="floating-card">
                            <i class="fas fa-satellite"></i>
                            <h4>RINEX Data</h4>
                            <p>High-precision GPS measurements</p>
                        </div>
                        <div class="floating-card">
                            <i class="fas fa-microchip"></i>
                            <h4>PLSTM Model</h4>
                            <p>Parallel processing architecture</p>
                        </div>
                        <div class="floating-card">
                            <i class="fas fa-chart-area"></i>
                            <h4>Prediction</h4>
                            <p>Real-time subsidence analysis</p>
                        </div>
                    </div>
                </div>

                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <h3>Research Objectives</h3>
                        <ul>
                            <li>Design PLSTM model for time-series data processing</li>
                            <li>Integrate RINEX data for high-precision measurements</li>
                            <li>Evaluate performance against traditional ML techniques</li>
                            <li>Develop risk management strategies</li>
                        </ul>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <h3>Data Processing Pipeline</h3>
                        <div class="pipeline-steps">
                            <div class="pipeline-step">
                                <span class="step-number">1</span>
                                <span class="step-text">Raw GNSS Data (.sth)</span>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step">
                                <span class="step-number">2</span>
                                <span class="step-text">RINEX Conversion</span>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step">
                                <span class="step-number">3</span>
                                <span class="step-text">Leica Infinity Processing</span>
                            </div>
                            <div class="pipeline-arrow">‚Üí</div>
                            <div class="pipeline-step">
                                <span class="step-number">4</span>
                                <span class="step-text">PLSTM Training</span>
                            </div>
                        </div>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <h3>Key Contributions</h3>
                        <div class="contributions">
                            <div class="contribution-item">
                                <i class="fas fa-microchip"></i>
                                <div>
                                    <h4>PLSTM Implementation</h4>
                                    <p>First application for land subsidence prediction</p>
                                </div>
                            </div>
                            <div class="contribution-item">
                                <i class="fas fa-satellite-dish"></i>
                                <div>
                                    <h4>RINEX Integration</h4>
                                    <p>High-precision GPS data integration</p>
                                </div>
                            </div>
                            <div class="contribution-item">
                                <i class="fas fa-chart-line"></i>
                                <div>
                                    <h4>Performance Evaluation</h4>
                                    <p>Comprehensive model assessment</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data & Training Page -->
            <div id="data-training" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-cogs"></i> Data Processing & PLSTM Model Training</h2>
                    <p>Complete machine learning pipeline from raw RINEX data to trained PLSTM model</p>
                </div>

                <div class="training-workflow">
                    <!-- Step 1: Data Upload -->
                    <div class="workflow-step" id="step1">
                        <div class="step-header">
                            <div class="step-indicator">
                                <span class="step-number">1</span>
                                <div class="step-info">
                                    <h3>Data Upload & Quality Check</h3>
                                    <span class="step-status" id="step1-status">Ready</span>
                                </div>
                            </div>
                        </div>
                        <div class="step-content">
                            <div class="upload-section">
                                <input type="file" id="csvFiles" multiple accept=".csv" style="display: none;">
                                <div class="upload-area" onclick="document.getElementById('csvFiles').click()">
                                    <div class="upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <h4>Upload RINEX CSV Files</h4>
                                    <p>Select processed CSV files from Leica Infinity (cpdg2021.csv, cpdg2022.csv, etc.)</p>
                                    <button class="btn-upload">
                                        <i class="fas fa-folder-open"></i>
                                        Browse Files
                                    </button>
                                </div>
                            </div>
                            <div id="fileList" class="file-list" style="display: none;"></div>
                            <button id="loadData" class="btn-primary" disabled>
                                <i class="fas fa-play"></i>
                                Load and Validate Data
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Data Preview -->
                    <div class="workflow-step" id="step2" style="display: none;">
                        <div class="step-header">
                            <div class="step-indicator">
                                <span class="step-number">2</span>
                                <div class="step-info">
                                    <h3>Data Preview & Statistics</h3>
                                    <span class="step-status" id="step2-status">Pending</span>
                                </div>
                            </div>
                        </div>
                        <div class="step-content">
                            <div class="data-preview">
                                <div class="preview-tabs">
                                    <button class="tab-btn active" data-tab="summary">
                                        <i class="fas fa-chart-pie"></i>
                                        Summary
                                    </button>
                                    <button class="tab-btn" data-tab="sample">
                                        <i class="fas fa-table"></i>
                                        Sample Data
                                    </button>
                                    <button class="tab-btn" data-tab="quality">
                                        <i class="fas fa-shield-alt"></i>
                                        Data Quality
                                    </button>
                                    <button class="tab-btn" data-tab="visualization">
                                        <i class="fas fa-chart-bar"></i>
                                        Visualization
                                    </button>
                                </div>
                                
                                <div id="summary-tab" class="tab-content active">
                                    <div class="summary-cards">
                                        <div class="summary-card">
                                            <div class="card-icon">
                                                <i class="fas fa-database"></i>
                                            </div>
                                            <div class="card-content">
                                                <h4>Dataset Information</h4>
                                                <div class="info-grid">
                                                    <div class="info-item">
                                                        <span>Total Records:</span>
                                                        <strong id="totalRecords">-</strong>
                                                    </div>
                                                    <div class="info-item">
                                                        <span>Date Range:</span>
                                                        <strong id="dateRange">-</strong>
                                                    </div>
                                                    <div class="info-item">
                                                        <span>Features:</span>
                                                        <strong id="featuresCount">-</strong>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="summary-card">
                                            <div class="card-icon">
                                                <i class="fas fa-map-marker-alt"></i>
                                            </div>
                                            <div class="card-content">
                                                <h4>Spatial Coverage</h4>
                                                <div class="info-grid">
                                                    <div class="info-item">
                                                        <span>Latitude Range:</span>
                                                        <strong id="latRange">-</strong>
                                                    </div>
                                                    <div class="info-item">
                                                        <span>Longitude Range:</span>
                                                        <strong id="lonRange">-</strong>
                                                    </div>
                                                    <div class="info-item">
                                                        <span>Height Range:</span>
                                                        <strong id="heightRange">-</strong>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="sample-tab" class="tab-content">
                                    <div class="table-wrapper">
                                        <table id="sampleDataTable" class="data-table">
                                            <thead></thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <div id="quality-tab" class="tab-content">
                                    <div class="quality-section">
                                        <div class="quality-card">
                                            <h4><i class="fas fa-exclamation-triangle"></i> Missing Values</h4>
                                            <div id="missingValues" class="missing-values"></div>
                                        </div>
                                        <div class="quality-card">
                                            <h4><i class="fas fa-chart-bar"></i> Data Distribution</h4>
                                            <canvas id="distributionChart" width="400" height="200"></canvas>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="visualization-tab" class="tab-content">
                                    <div class="viz-section">
                                        <canvas id="spatialChart" width="600" height="400"></canvas>
                                    </div>
                                </div>
                            </div>
                            <button id="proceedToPreprocessing" class="btn-primary">
                                <i class="fas fa-arrow-right"></i>
                                Proceed to Preprocessing
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Data Preprocessing -->
                    <div class="workflow-step" id="step3" style="display: none;">
                        <div class="step-header">
                            <div class="step-indicator">
                                <span class="step-number">3</span>
                                <div class="step-info">
                                    <h3>Data Preprocessing & Feature Engineering</h3>
                                    <span class="step-status" id="step3-status">Pending</span>
                                </div>
                            </div>
                        </div>
                        <div class="step-content">
                            <div class="preprocessing-grid">
                                <div class="config-card">
                                    <h4><i class="fas fa-filter"></i> Data Cleaning</h4>
                                    <div class="config-options">
                                        <label class="checkbox-option">
                                            <input type="checkbox" id="removeOutliers" checked>
                                            <span class="checkmark"></span>
                                            Remove outliers using IQR method
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" id="fillMissing" checked>
                                            <span class="checkmark"></span>
                                            Fill missing values with interpolation
                                        </label>
                                        <label class="checkbox-option">
                                            <input type="checkbox" id="smoothData" checked>
                                            <span class="checkmark"></span>
                                            Apply smoothing filter
                                        </label>
                                    </div>
                                </div>
                                <div class="config-card">
                                    <h4><i class="fas fa-expand-arrows-alt"></i> Feature Scaling</h4>
                                    <select id="scalingMethod" class="select-input">
                                        <option value="minmax">Min-Max Normalization</option>
                                        <option value="standard">Standard Scaling</option>
                                        <option value="robust">Robust Scaling</option>
                                    </select>
                                </div>
                                <div class="config-card">
                                    <h4><i class="fas fa-clock"></i> Time Series Configuration</h4>
                                    <div class="slider-group">
                                        <label>Sequence Length: <span id="sequenceLengthValue">10</span></label>
                                        <input type="range" id="sequenceLength" min="5" max="50" value="10" class="slider">
                                    </div>
                                    <div class="slider-group">
                                        <label>Prediction Horizon: <span id="predictionHorizonValue">1</span></label>
                                        <input type="range" id="predictionHorizon" min="1" max="10" value="1" class="slider">
                                    </div>
                                </div>
                            </div>
                            <button id="startPreprocessing" class="btn-primary">
                                <i class="fas fa-play"></i>
                                Start Preprocessing
                            </button>
                            <div id="preprocessingProgress" class="progress-section" style="display: none;">
                                <div class="progress-bar">
                                    <div id="preprocessingFill" class="progress-fill"></div>
                                </div>
                                <div id="preprocessingStatus" class="progress-status">Initializing...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: Model Configuration -->
                    <div class="workflow-step" id="step4" style="display: none;">
                        <div class="step-header">
                            <div class="step-indicator">
                                <span class="step-number">4</span>
                                <div class="step-info">
                                    <h3>PLSTM Model Configuration</h3>
                                    <span class="step-status" id="step4-status">Pending</span>
                                </div>
                            </div>
                        </div>
                        <div class="step-content">
                            <div class="model-config">
                                <div class="config-section">
                                    <h4><i class="fas fa-layer-group"></i> Architecture</h4>
                                    <div class="config-grid">
                                        <div class="config-item">
                                            <label>LSTM Units: <span id="lstmUnitsValue">64</span></label>
                                            <input type="range" id="lstmUnits" min="32" max="256" value="64" step="32" class="slider">
                                        </div>
                                        <div class="config-item">
                                            <label>Number of Layers: <span id="numLayersValue">2</span></label>
                                            <input type="range" id="numLayers" min="1" max="4" value="2" class="slider">
                                        </div>
                                        <div class="config-item">
                                            <label>Dropout Rate: <span id="dropoutRateValue">0.2</span></label>
                                            <input type="range" id="dropoutRate" min="0" max="0.5" step="0.1" value="0.2" class="slider">
                                        </div>
                                    </div>
                                </div>
                                <div class="config-section">
                                    <h4><i class="fas fa-cog"></i> Training Parameters</h4>
                                    <div class="config-grid">
                                        <div class="config-item">
                                            <label>Epochs: <span id="epochsValue">50</span></label>
                                            <input type="range" id="epochs" min="10" max="200" value="50" class="slider">
                                        </div>
                                        <div class="config-item">
                                            <label>Batch Size:</label>
                                            <select id="batchSize" class="select-input">
                                                <option value="16">16</option>
                                                <option value="32" selected>32</option>
                                                <option value="64">64</option>
                                                <option value="128">128</option>
                                            </select>
                                        </div>
                                        <div class="config-item">
                                            <label>Learning Rate:</label>
                                            <select id="learningRate" class="select-input">
                                                <option value="0.001" selected>0.001</option>
                                                <option value="0.01">0.01</option>
                                                <option value="0.0001">0.0001</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="config-section">
                                    <h4><i class="fas fa-chart-pie"></i> Data Split</h4>
                                    <div class="split-config">
                                        <div class="split-item">
                                            <label>Training: <span id="trainSplitValue">70%</span></label>
                                            <input type="range" id="trainSplit" min="0.6" max="0.8" step="0.05" value="0.7" class="slider">
                                        </div>
                                        <div class="split-item">
                                            <label>Validation: <span id="validationSplitValue">20%</span></label>
                                            <input type="range" id="validationSplit" min="0.1" max="0.3" step="0.05" value="0.2" class="slider">
                                        </div>
                                        <div class="split-item">
                                            <label>Test: <span id="testSplitValue">10%</span></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button id="startTraining" class="btn-primary">
                                <i class="fas fa-rocket"></i>
                                Start PLSTM Training
                            </button>
                        </div>
                    </div>

                    <!-- Step 5: Model Training -->
                    <div class="workflow-step" id="step5" style="display: none;">
                        <div class="step-header">
                            <div class="step-indicator">
                                <span class="step-number">5</span>
                                <div class="step-info">
                                    <h3>PLSTM Model Training</h3>
                                    <span class="step-status" id="step5-status">Training</span>
                                </div>
                            </div>
                        </div>
                        <div class="step-content">
                            <div class="training-dashboard">
                                <div class="metrics-grid">
                                    <div class="metric-card">
                                        <div class="metric-icon">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div class="metric-content">
                                            <h4>Current Epoch</h4>
                                            <span class="metric-value">
                                                <span id="currentEpoch">0</span>/<span id="totalEpochs">50</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-icon">
                                            <i class="fas fa-chart-line"></i>
                                        </div>
                                        <div class="metric-content">
                                            <h4>Training Loss</h4>
                                            <span class="metric-value" id="trainingLoss">-</span>
                                        </div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-icon">
                                            <i class="fas fa-chart-area"></i>
                                        </div>
                                        <div class="metric-content">
                                            <h4>Validation Loss</h4>
                                            <span class="metric-value" id="validationLoss">-</span>
                                        </div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-icon">
                                            <i class="fas fa-bullseye"></i>
                                        </div>
                                        <div class="metric-content">
                                            <h4>RMSE</h4>
                                            <span class="metric-value" id="rmseValue">-</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="progress-section">
                                    <div class="progress-bar">
                                        <div id="trainingProgressFill" class="progress-fill"></div>
                                    </div>
                                    <div id="trainingStatus" class="progress-status">Initializing...</div>
                                </div>
                                <div class="charts-grid">
                                    <div class="chart-card">
                                        <h4>Loss Curves</h4>
                                        <canvas id="lossChart" width="400" height="200"></canvas>
                                    </div>
                                    <div class="chart-card">
                                        <h4>Metrics</h4>
                                        <canvas id="metricsChart" width="400" height="200"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 6: Model Evaluation & Download -->
                    <div class="workflow-step" id="step6" style="display: none;">
                        <div class="step-header">
                            <div class="step-indicator">
                                <span class="step-number">6</span>
                                <div class="step-info">
                                    <h3>Model Evaluation & Export</h3>
                                    <span class="step-status" id="step6-status">Complete</span>
                                </div>
                            </div>
                        </div>
                        <div class="step-content">
                            <div class="evaluation-section">
                                <div class="results-grid">
                                    <div class="result-card">
                                        <div class="result-icon">
                                            <i class="fas fa-chart-line"></i>
                                        </div>
                                        <h4>Final Metrics</h4>
                                        <div class="metrics-list">
                                            <div class="metric-item">
                                                <span>RMSE:</span>
                                                <strong id="finalRMSE">-</strong>
                                            </div>
                                            <div class="metric-item">
                                                <span>MAE:</span>
                                                <strong id="finalMAE">-</strong>
                                            </div>
                                            <div class="metric-item">
                                                <span>MSE:</span>
                                                <strong id="finalMSE">-</strong>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="result-card">
                                        <div class="result-icon">
                                            <i class="fas fa-info-circle"></i>
                                        </div>
                                        <h4>Training Info</h4>
                                        <div class="metrics-list">
                                            <div class="metric-item">
                                                <span>Training Time:</span>
                                                <strong id="trainingTime">-</strong>
                                            </div>
                                            <div class="metric-item">
                                                <span>Best Epoch:</span>
                                                <strong id="bestEpoch">-</strong>
                                            </div>
                                            <div class="metric-item">
                                                <span>Model Size:</span>
                                                <strong id="modelSize">-</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="prediction-preview">
                                    <h4><i class="fas fa-eye"></i> Prediction Preview</h4>
                                    <canvas id="predictionChart" width="800" height="300"></canvas>
                                </div>
                                <div class="download-section">
                                    <h4><i class="fas fa-download"></i> Download Trained Model</h4>
                                    <div class="download-grid">
                                        <button id="downloadModel" class="download-btn">
                                            <i class="fas fa-brain"></i>
                                            <span>PLSTM Model (.h5)</span>
                                        </button>
                                        <button id="downloadWeights" class="download-btn">
                                            <i class="fas fa-weight-hanging"></i>
                                            <span>Weights Only</span>
                                        </button>
                                        <button id="downloadConfig" class="download-btn">
                                            <i class="fas fa-cog"></i>
                                            <span>Configuration</span>
                                        </button>
                                        <button id="downloadReport" class="download-btn">
                                            <i class="fas fa-file-pdf"></i>
                                            <span>Training Report</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Prediction Page -->
            <div id="prediction" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-chart-line"></i> Real-time Land Subsidence Prediction</h2>
                    <p>Make predictions using trained PLSTM model</p>
                </div>

                <div class="prediction-container">
                    <div class="prediction-form">
                        <h3><i class="fas fa-map-marker-alt"></i> Input Coordinates</h3>
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Easting [m]:</label>
                                <input type="number" id="easting" step="0.000001" placeholder="0.000000" class="input-field">
                            </div>
                            <div class="input-group">
                                <label>Northing [m]:</label>
                                <input type="number" id="northing" step="0.000001" placeholder="0.000000" class="input-field">
                            </div>
                            <div class="input-group">
                                <label>Ortho Height [m]:</label>
                                <input type="number" id="orthoHeight" step="0.000001" placeholder="0.000000" class="input-field">
                            </div>
                            <div class="input-group">
                                <label>WGS84 Ellip Height [m]:</label>
                                <input type="number" id="ellipHeight" step="0.000001" placeholder="0.000000" class="input-field">
                            </div>
                        </div>
                        <button id="makePrediction" class="btn-primary">
                            <i class="fas fa-search"></i>
                            Predict Subsidence
                        </button>
                    </div>

                    <div id="predictionResults" class="prediction-results" style="display: none;">
                        <h3><i class="fas fa-chart-bar"></i> Prediction Results</h3>
                        <div class="results-dashboard">
                            <div class="result-card">
                                <div class="result-icon">
                                    <i class="fas fa-arrow-down"></i>
                                </div>
                                <h4>Predicted Subsidence</h4>
                                <span id="subsidenceValue" class="result-value">-</span>
                            </div>
                            <div class="result-card">
                                <div class="result-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <h4>Risk Level</h4>
                                <span id="riskLevel" class="result-value">-</span>
                            </div>
                            <div class="result-card">
                                <div class="result-icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <h4>Confidence</h4>
                                <span id="confidence" class="result-value">-</span>
                            </div>
                            <div class="result-card">
                                <div class="result-icon">
                                    <i class="fas fa-trending-up"></i>
                                </div>
                                <h4>Trend</h4>
                                <span id="trend" class="result-value">-</span>
                            </div>
                        </div>
                        <div class="gauge-container">
                            <canvas id="riskGauge" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analysis Page -->
            <div id="analysis" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-chart-bar"></i> Land Subsidence Analysis</h2>
                    <p>Comprehensive analysis of land subsidence patterns and trends</p>
                </div>

                <div class="analysis-container">
                    <div class="analysis-controls">
                        <div class="control-card">
                            <div class="control-group">
                                <label>Analysis Type:</label>
                                <select id="analysisType" class="select-input">
                                    <option value="temporal">Temporal Analysis</option>
                                    <option value="spatial">Spatial Analysis</option>
                                    <option value="correlation">Correlation Analysis</option>
                                    <option value="trend">Trend Analysis</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label>Time Range:</label>
                                <select id="timeRange" class="select-input">
                                    <option value="all">All Data</option>
                                    <option value="2024">2024</option>
                                    <option value="2023">2023</option>
                                    <option value="2022">2022</option>
                                    <option value="2021">2021</option>
                                </select>
                            </div>
                            <button id="updateAnalysis" class="btn-primary">
                                <i class="fas fa-sync"></i>
                                Update Analysis
                            </button>
                        </div>
                    </div>

                    <div class="charts-container">
                        <div class="chart-card">
                            <h3>Time Series Analysis</h3>
                            <canvas id="timeSeriesChart" width="800" height="400"></canvas>
                        </div>
                        
                        <div class="chart-card">
                            <h3>Spatial Distribution</h3>
                            <canvas id="spatialAnalysisChart" width="800" height="400"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map Page -->
            <div id="map" class="page">
                <div class="page-header">
                    <h2><i class="fas fa-map"></i> Land Subsidence Risk Map</h2>
                    <p>Interactive map showing subsidence risk areas in Padang City</p>
                </div>

                <div class="map-controls">
                    <div class="control-card">
                        <div class="control-group">
                            <label>Layer:</label>
                            <select id="mapLayer" class="select-input">
                                <option value="risk">Risk Level</option>
                                <option value="subsidence">Subsidence Rate</option>
                                <option value="elevation">Elevation</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label>Time Period:</label>
                            <select id="timePeriod" class="select-input">
                                <option value="current">Current</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="map-wrapper">
                    <div id="subsidenceMap" class="map"></div>
                </div>

                <div class="risk-summary">
                    <h3><i class="fas fa-chart-pie"></i> Risk Summary</h3>
                    <div class="risk-cards">
                        <div class="risk-card high">
                            <div class="risk-icon">
                                <i class="fas fa-circle"></i>
                            </div>
                            <div class="risk-content">
                                <span class="risk-label">High Risk Areas</span>
                                <strong id="highRiskCount" class="risk-count">2</strong>
                            </div>
                        </div>
                        <div class="risk-card medium">
                            <div class="risk-icon">
                                <i class="fas fa-circle"></i>
                            </div>
                            <div class="risk-content">
                                <span class="risk-label">Medium Risk Areas</span>
                                <strong id="mediumRiskCount" class="risk-count">3</strong>
                            </div>
                        </div>
                        <div class="risk-card low">
                            <div class="risk-icon">
                                <i class="fas fa-circle"></i>
                            </div>
                            <div class="risk-content">
                                <span class="risk-label">Low Risk Areas</span>
                                <strong id="lowRiskCount" class="risk-count">1</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-globe-americas"></i> PLSTM Land Subsidence System</h3>
                    <p>Advanced machine learning system for land subsidence prediction in Padang City using Parallel Long Short-Term Memory architecture.</p>
                </div>
                <div class="footer-section">
                    <h4>Research Focus</h4>
                    <ul>
                        <li>RINEX Data Processing</li>
                        <li>PLSTM Architecture</li>
                        <li>Real-time Prediction</li>
                        <li>Risk Management</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Evaluation Metrics</h4>
                    <ul>
                        <li>RMSE (Root Mean Square Error)</li>
                        <li>MAE (Mean Absolute Error)</li>
                        <li>MSE (Mean Squared Error)</li>
                        <li>Temporal Accuracy</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2025 - PLSTM Land Subsidence Detection System | Advanced ML Research</p>
            </div>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
            </div>
            <p id="loadingText">Processing...</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>